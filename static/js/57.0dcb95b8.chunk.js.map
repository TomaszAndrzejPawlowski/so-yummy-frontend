{"version":3,"file":"static/js/57.0dcb95b8.chunk.js","mappings":"kJAAA,MAQA,EARsBA,IAAgB,IAAf,MAAEC,GAAOD,EAC9B,OACEE,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACEF,EAAAA,EAAAA,KAAA,MAAAE,SAAKH,KACJ,C,mICHP,QAA6B,kCAA7B,EAA+E,qC,aCa/E,MAsDA,EAtDsBI,KACpB,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAaC,EAAAA,EAAAA,IAAYC,EAAAA,KACxBC,EAAkBC,IAAuBC,EAAAA,EAAAA,UAAS,IAAIL,KAE7DM,EAAAA,EAAAA,YAAU,KACUC,WAChBT,GAASU,EAAAA,EAAAA,MAAoB,EAE/BC,EAAW,GACV,CAACX,IAUJ,OACEY,EAAAA,EAAAA,MAAAf,EAAAA,SAAA,CAAAC,SAAA,EACEF,EAAAA,EAAAA,KAACiB,EAAAA,EAAM,CAAAf,UACLF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,kBAETF,EAAAA,EAAAA,KAACkB,EAAAA,EAAa,CAACnB,MAAM,gBACrBC,EAAAA,EAAAA,KAAA,MAAAE,SACGO,EACCA,EAAiBU,KAAKC,IACpBJ,EAAAA,EAAAA,MAAA,MAAAd,SAAA,EACEF,EAAAA,EAAAA,KAAA,OAAKqB,IAAKD,EAAOE,QAASC,IAAG,GAAAC,OAAKJ,EAAOrB,UACzCC,EAAAA,EAAAA,KAAA,MAAAE,SAAKkB,EAAOrB,SACZC,EAAAA,EAAAA,KAAA,KAAAE,SAAIkB,EAAOK,eACXT,EAAAA,EAAAA,MAAA,KAAAd,SAAA,CAAIkB,EAAOM,KAAK,WAChB1B,EAAAA,EAAAA,KAAA,UACE2B,UAAWC,EACXC,KAAK,SACLC,QAASA,IAzBMC,KAC3B,MAAMC,EAAW,IAAIvB,GACfwB,EAAcD,EAASE,WAAWd,GAAWA,EAAOe,MAAQJ,IAClEC,EAASI,OAAOH,EAAa,GAC7BvB,EAAoBsB,GACpB5B,GAASiC,EAAAA,EAAAA,IAAgB,CAAEN,OAAM,EAoBNO,CAAoBlB,EAAOe,KAAKjC,UAE/CF,EAAAA,EAAAA,KAAA,OAAK2B,UAAWC,EAAe1B,UAC7BF,EAAAA,EAAAA,KAAA,OAAKuC,KAAI,GAAAf,OAAKgB,EAAAA,EAAK,sBAGvBxC,EAAAA,EAAAA,KAACyC,EAAAA,GAAO,CAACC,GAAE,WAAAlB,OAAaJ,EAAOe,KAAMjC,SAAC,iBAd/BkB,EAAOe,QAkBlBnC,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,QAGH,C","sources":["components/MainPageTitle/MainPageTitle.jsx","webpack://so-yummy-frontend/./src/pages/MyRecipesPage/MyRecipesPage.module.css?3c0f","pages/MyRecipesPage/MyRecipesPage.jsx"],"sourcesContent":["const MainPageTitle = ({ title }) => {\n  return (\n    <>\n      <h2>{title}</h2>\n    </>\n  );\n};\n\nexport default MainPageTitle;\n","// extracted by mini-css-extract-plugin\nexport default {\"trash__svg\":\"MyRecipesPage_trash__svg__ioSKK\",\"trash__button\":\"MyRecipesPage_trash__button__G+236\"};","import { Helmet } from \"react-helmet\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { selectUserAddedRecipes } from \"../../redux/user/selectors\";\nimport {\n  fetchOwnedRecipes,\n  removeOwnRecipe,\n} from \"../../redux/user/operations\";\nimport { useEffect } from \"react\";\nimport MainPageTitle from \"../../components/MainPageTitle/MainPageTitle\";\nimport { useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport icons from \"../../img/svg/iconsSprite.svg\";\nimport css from \"./MyRecipesPage.module.css\";\n\nconst MyRecipesPage = () => {\n  const dispatch = useDispatch();\n  const ownRecipes = useSelector(selectUserAddedRecipes);\n  const [displayedRecipes, setDisplayedRecipes] = useState([...ownRecipes]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      dispatch(fetchOwnedRecipes());\n    };\n    fetchData();\n  }, [dispatch]);\n\n  const handleRemoveFromFav = (id) => {\n    const newArray = [...displayedRecipes];\n    const recipeIndex = newArray.findIndex((recipe) => recipe._id === id);\n    newArray.splice(recipeIndex, 1);\n    setDisplayedRecipes(newArray);\n    dispatch(removeOwnRecipe({ id }));\n  };\n\n  return (\n    <>\n      <Helmet>\n        <title>My recipes</title>\n      </Helmet>\n      <MainPageTitle title=\"My recipes\" />\n      <ul>\n        {displayedRecipes ? (\n          displayedRecipes.map((recipe) => (\n            <li key={recipe._id}>\n              <img src={recipe.preview} alt={`${recipe.title}`} />\n              <h3>{recipe.title}</h3>\n              <p>{recipe.description}</p>\n              <p>{recipe.time} min</p>\n              <button\n                className={css.trash__button}\n                type=\"button\"\n                onClick={() => handleRemoveFromFav(recipe._id)}\n              >\n                <svg className={css.trash__svg}>\n                  <use href={`${icons}#icon-trash`}></use>\n                </svg>\n              </button>\n              <NavLink to={`/recipe/${recipe._id}`}>See recipe</NavLink>\n            </li>\n          ))\n        ) : (\n          <></>\n        )}\n      </ul>\n    </>\n  );\n};\n\nexport default MyRecipesPage;\n"],"names":["_ref","title","_jsx","_Fragment","children","MyRecipesPage","dispatch","useDispatch","ownRecipes","useSelector","selectUserAddedRecipes","displayedRecipes","setDisplayedRecipes","useState","useEffect","async","fetchOwnedRecipes","fetchData","_jsxs","Helmet","MainPageTitle","map","recipe","src","preview","alt","concat","description","time","className","css","type","onClick","id","newArray","recipeIndex","findIndex","_id","splice","removeOwnRecipe","handleRemoveFromFav","href","icons","NavLink","to"],"sourceRoot":""}