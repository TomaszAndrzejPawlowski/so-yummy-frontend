"use strict";(self.webpackChunkso_yummy_frontend=self.webpackChunkso_yummy_frontend||[]).push([[813],{7638:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(579);const i=e=>{let{title:t}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("h2",{children:t})})}},4813:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var a=n(1591),i=n(7638),r=n(5043),l=n(579);const s=e=>{let{title:t}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("h3",{children:t})})};var o=n(3003),c=n(1023),d=n(5711),u=n(5475);const p=()=>{const e=(0,o.wA)(),t=(0,o.d4)(d.z5);return(0,r.useEffect)((()=>{(async()=>{e((0,c.H6)())})()}),[e]),console.log(t),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s,{title:"Popular recipe"}),(0,l.jsx)("ul",{children:t?t.map((e=>(0,l.jsx)("li",{children:(0,l.jsx)(u.k2,{to:"/recipe/".concat(e._id),children:(0,l.jsxs)("figure",{children:[(0,l.jsx)("img",{src:e.preview,alt:"".concat(e.title)}),(0,l.jsx)("figcaption",{children:"".concat(e.title)}),(0,l.jsx)("figcaption",{children:"".concat(e.description)})]})})},e._id))):(0,l.jsx)(l.Fragment,{})})]})},m=e=>{let{onChange:t,description:n}=e;const a=(0,o.d4)(d.Jk),i=(()=>{const e=[];for(let t=5;t<=180;t+=5)e.push(t);return e})();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("input",{required:!0,type:"file",name:"image",accept:"image/*",onChange:t}),(0,l.jsx)("input",{required:!0,type:"text",name:"title",placeholder:"Enter recipe title",value:n.title,onChange:t}),(0,l.jsx)("input",{required:!0,type:"text",name:"about",placeholder:"Enter about recipe",value:n.about,onChange:t}),(0,l.jsx)("label",{htmlFor:"category",children:"Category"}),(0,l.jsx)("select",{required:!0,id:"category",name:"category",value:n.category,onChange:t,children:a.map((e=>(0,l.jsx)("option",{value:e.title,children:e.title},e.title)))}),(0,l.jsx)("label",{htmlFor:"time",children:"Cooking time"}),(0,l.jsxs)("select",{required:!0,id:"time",name:"time",value:n.time,onChange:t,children:[i.map((e=>(0,l.jsx)("option",{value:e,children:e},e))),(0,l.jsx)("option",{value:"180+",children:"180+"},"180+")]})]})};var h=n(5229),g=n(2364);const x=e=>{let{onChange:t,ingredients:n}=e;const a=[...(0,o.d4)(d.vm)].sort(((e,t)=>e.ttl.localeCompare(t.ttl))).map((e=>({value:e._id,label:e.ttl}))),i=[{value:"",label:""},{value:"tbs",label:"tbs"},{value:"tsp",label:"tsp"},{value:"kg",label:"kg"},{value:"g",label:"g"},{value:"l",label:"l"},{value:"ml",label:"ml"}],r=e=>{const a=[...n];n.length>1&&(a.splice(e,1),t(a))},c=(e,a,i)=>{const r=[...n];r[e][a]=i,t(r)},u=(e,t)=>{setTimeout((()=>{t((e=>a.filter((t=>t.label.toLowerCase().includes(e.toLowerCase()))))(e))}),500)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s,{title:"Ingredients"}),(0,l.jsx)("button",{type:"button",onClick:()=>r(n.length-1),disabled:n.length<=1,children:"-"}),(0,l.jsx)("span",{children:n.length}),(0,l.jsx)("button",{type:"button",onClick:()=>{t([...n,{id:"",name:"",measure:"empty",amount:""}])},children:"+"}),n.map(((e,s)=>(0,l.jsxs)("div",{children:[(0,l.jsx)(h.A,{required:!0,cacheOptions:!0,loadOptions:u,defaultOptions:a,value:a.find((t=>t.value===e.id)),onChange:e=>((e,a)=>{const i=[...n];i[e].id=a?a.value:"",i[e].name=a?a.label:"",t(i)})(s,e),placeholder:"Select ingredient",isClearable:!0}),(0,l.jsx)("input",{required:!0,type:"text",placeholder:"Amount",value:e.amount,onChange:e=>c(s,"amount",e.target.value)}),(0,l.jsx)(g.Ay,{required:!0,value:i.find((t=>t.value===e.measure)),onChange:e=>c(s,"measure",e?e.value:"empty"),options:i,placeholder:"Measure",isClearable:!0}),(0,l.jsx)("button",{type:"button",onClick:()=>r(s),children:"X"})]},s)))]})},j=e=>{let{onChange:t,instructions:n}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s,{title:"Recipe Preparation"}),(0,l.jsx)("textarea",{required:!0,name:"preparation",rows:"5",placeholder:"Enter recipe",value:n,onChange:t})]})};var v=n(6427);const b=()=>{const e=(0,o.wA)(),[t,n]=(0,r.useState)({title:"",about:"",category:"",time:"",image:null}),[a,i]=(0,r.useState)([{id:"",name:"",measure:"",amount:""}]),[s,c]=(0,r.useState)("");return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("form",{onSubmit:n=>{n.preventDefault();const i=new FormData;i.append("title",t.title),i.append("description",t.about),i.append("category",t.category),i.append("time",t.time),i.append("image",t.image),i.append("instructions",s),a.forEach(((e,t)=>{i.append("ingredients[".concat(t,"][id]"),e.id),i.append("ingredients[".concat(t,"][measure]"),"".concat(e.amount," ").concat(e.measure))})),console.log(i),e((0,v.kQ)(i))},children:[(0,l.jsx)(m,{onChange:e=>{const{name:t,value:a,files:i}=e.target;n((e=>({...e,[t]:i?i[0]:a})))},description:t}),(0,l.jsx)(x,{onChange:e=>{i(e)},ingredients:a}),(0,l.jsx)(j,{onChange:e=>{c(e.target.value)},instructions:s}),(0,l.jsx)("button",{type:"submit",children:"Add"})]})})};var C=n(6276);const y=()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s,{title:"Follow us"}),(0,l.jsx)(C.A,{})]}),f=()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.m,{children:(0,l.jsx)("title",{children:"Add recipe"})}),(0,l.jsx)(i.A,{title:"Add recipe"}),(0,l.jsx)(b,{}),(0,l.jsx)(y,{}),(0,l.jsx)(p,{})]})},5711:(e,t,n)=>{n.d(t,{Di:()=>o,Jk:()=>a,Ne:()=>r,hb:()=>c,pI:()=>i,vm:()=>l,z5:()=>s});const a=e=>e.recipes.categories,i=e=>e.recipes.mainPageRecipes,r=e=>e.recipes.recipesByCategory,l=e=>e.recipes.ingredients,s=e=>e.recipes.popularRecipes,o=e=>e.recipes.isLoading,c=e=>e.recipes.recipeById}}]);
//# sourceMappingURL=813.b3182f9a.chunk.js.map